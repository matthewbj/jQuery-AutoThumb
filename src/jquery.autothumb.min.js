/* jQuery AutoThumb Plugin - https://github.com/matthewbj/jQuery-AutoThumb * by @matthewbjordan * CC BY-SA 3.0 License (http://creativecommons.org/licenses/by-sa/3.0/) */
(function(b){b.fn.autoThumb=function(l){var d=b.extend({maxWidth:150,maxHeight:200,lightbox:!0},l);return this.each(function(){var a=b(this),f=0,g=a.width(),h=a.height();a.data("original-size",{width:g,height:h});g>d.maxWidth&&(f=d.maxWidth/g,a.attr({width:d.maxWidth,height:h*f}),h*=f);g=a.width();h=a.height();h>d.maxHeight&&(f=d.maxHeight/h,a.attr({height:d.maxHeight,width:g*f}),g*=f);if(!1!==d.lightbox)a.css("cursor","pointer").attr("title","View Larger").on("click",function(){var a=b(this),d=g,
f=h,c=a.data("original-size"),i=b(window),e=c.height,c=c.width,j=i.width()-25,i=i.height()-75;if(k===false){k=true;b('<div id="autoThumb-modal" /><div id="autoThumb-modal-bg" />').appendTo("body")}if(c>j){e=e*(j/c);c=j}if(e>i){e=i;c=d*(i/f)}a='<img src="'+a.attr("src")+'" height="'+e+'" width="'+c+'" alt="Loading..." class="autoThumb-image"><div id="autoThumb-modal-close" />';e={width:c,height:e,"margin-top":"-"+Math.round(e/2+6)+"px","margin-left":"-"+Math.round(c/2+6)+"px"};b("#autoThumb-modal-bg").fadeIn(400);
b("#autoThumb-modal").html(a).css(e).fadeIn(400)})})};var k=!1;b(document).on("click","#autoThumb-modal-close, #autoThumb-modal-bg",function(){b("[id^=autoThumb-modal]").fadeOut(400,function(){b("#autoThumb-modal").html("")})})})(jQuery);
